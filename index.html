<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zer0 Emission Games</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: Arial, sans-serif;
            background-color: #000;
            color: white;
            overflow: hidden;
        }

        .screen {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        #mainScreen {
            display: flex;
        }

        .logo {
            width: 150px;
            margin-bottom: 30px;
        }

        .btn {
            width: 100%;
            max-width: 250px;
            padding: 15px;
            margin: 10px 0;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
        }

        .btn-play {
            background: #4CAF50;
            color: white;
        }

        .btn-support {
            background: #2196F3;
            color: white;
        }

        .btn-game {
            background: #FF9800;
            color: white;
        }

        .btn-back {
            background: #F44336;
            color: white;
            margin-top: 20px;
        }

        iframe {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: none;
            display: none;
        }
    </style>
</head>
<body>
<!-- Главный экран -->
<div id="mainScreen" class="screen">
    <img src="ZE_logo.png" alt="Logo" class="logo">
    <button id="playBtn" class="btn btn-play">ИГРЫ</button>
    <button id="supportBtn" class="btn btn-support">ПОДДЕРЖКА</button>
</div>

<!-- Меню игр -->
<div id="gamesScreen" class="screen">
    <h2>ВЫБЕРИТЕ ИГРУ</h2>
    <button id="clumsyBirdBtn" class="btn btn-game">CLUMSY BIRD</button>
    <button id="pacmanBtn" class="btn btn-game">PACMAN</button>
    <button id="backBtn1" class="btn btn-back">НАЗАД</button>
</div>

<!-- Игровые фреймы -->
<iframe id="clumsyBirdFrame"></iframe>
<iframe id="pacmanFrame"></iframe>

<script>
    // Инициализация Telegram WebApp
    const tg = window.Telegram.WebApp;
    tg.expand();
    tg.BackButton.hide(); // Полностью отключаем системную кнопку

    // Элементы интерфейса
    const screens = {
        main: document.getElementById('mainScreen'),
        games: document.getElementById('gamesScreen')
    };

    const buttons = {
        play: document.getElementById('playBtn'),
        support: document.getElementById('supportBtn'),
        back1: document.getElementById('backBtn1'),
        clumsyBird: document.getElementById('clumsyBirdBtn'),
        pacman: document.getElementById('pacmanBtn')
    };

    const frames = {
        clumsyBird: document.getElementById('clumsyBirdFrame'),
        pacman: document.getElementById('pacmanFrame')
    };

    // Показать экран
    function showScreen(screen) {
        // Скрыть все экраны и фреймы
        Object.values(screens).forEach(s => s.style.display = 'none');
        Object.values(frames).forEach(f => f.style.display = 'none');

        // Показать нужный экран
        if (screen === 'main' || screen === 'games') {
            screens[screen].style.display = 'flex';
        }
    }

    // Запуск игры
    function startGame(game) {
        showScreen('');
        frames[game].style.display = 'block';
        frames[game].src = {
            clumsyBird: 'https://izhenergo.github.io/Clumsy_Bird/',
            pacman: 'https://izhenergo.github.io/Pacman_Canvas/'
        }[game];
    }

    // Обработчики событий
    buttons.play.addEventListener('click', () => showScreen('games'));
    buttons.support.addEventListener('click', () => tg.openTelegramLink('https://t.me/Zer0_Emission_Support'));
    buttons.back1.addEventListener('click', () => showScreen('main'));
    buttons.clumsyBird.addEventListener('click', () => startGame('clumsyBird'));
    buttons.pacman.addEventListener('click', () => startGame('pacman'));

    // Инициализация
    showScreen('main');
</script>
</body>
</html>
